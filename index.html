<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Aplikasi SIMDARA SDN JATIASIH I</title>
  <link rel="stylesheet" href="style.css">

  <script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-firestore.js"></script>
</head>
<body>
  <div id="login-container">
    <h2>Login Aplikasi</h2>
    <input type="text" id="login-email" placeholder="Email (admin@sekolah.edu)">
    <input type="password" id="login-password" placeholder="Password (admin123)">
    <button onclick="loginUser()">Login</button>
    <p id="login-message" style="color: red;"></p>
  </div>

  <div id="app-container" style="display: none;">
    <header id="main-header">
      <h1>APLIKASI DAFTAR BARANG INVENTARIS RUANGAN</h1>
      <nav id="top-nav">
        <button class="nav-btn active" data-view="beranda">Beranda</button>
        <button class="nav-btn" data-view="identitas">Identitas</button>
        <button class="nav-btn" data-view="ruangan">Data Ruangan</button>
        <button class="nav-btn" data-view="barang">Data Barang</button>
        <button class="nav-btn" data-view="referensi">Data Reff</button>
        <button class="nav-btn" data-view="dir">Data Inventaris Ruangan (DIR)</button>
      </nav>
      <button id="logout-btn" onclick="logoutUser()">Logout</button>
    </header>

    <main id="dashboard-content">
     <section id="beranda-view" class="content-view active-view">
	 <section id="referensi-view" class="content-view" style="display: none;">
		<h2>Data Referensi (Reff) - Petugas BMN</h2>
		<div class="table-actions">
        <button class="btn btn-primary" onclick="openModal('referensi')"> + Input Petugas BMN</button>
    </div>
		<table id="tabel-referensi-bmn" class="data-table">
        <thead>
            <tr><th>No</th><th>Nama Petugas BMN</th><th>NIP / NIK</th><th>Aksi</th></tr>
        </thead>
        <tbody id="referensi-bmn-data-body">
            </tbody>
			</table>
	</section>
        <h2>Beranda - Monitoring Barang</h2>
        <div class="filter-panel">
          <label>Nama Barang:</label>
          <input type="text" id="filter-nama-barang" placeholder="Cari Nama Barang...">
          <label>Lokasi (Ruangan):</label>
          <select id="filter-lokasi"></select>
          <label>Kondisi:</label>
          <select id="filter-kondisi">
            <option value="">Semua</option>
            <option value="B">Baik</option>
            <option value="RR">Rusak Ringan</option>
            <option value="RB">Rusak Berat</option>
          </select>
          <button onclick="applyFilter()">Tampilkan Data</button>
        </div>

        <div id="kondisi-barang-ringkasan" class="data-box">
          <table>
            <thead><tr><th>BAIK</th><th>RUSAK RINGAN</th><th>RUSAK BERAT</th><th>TOTAL</th></tr></thead>
            <tbody><tr>
              <td id="kondisi-baik">0</td><td id="kondisi-rr">0</td>
              <td id="kondisi-rb">0</td><td id="kondisi-total">0</td>
            </tr></tbody>
          </table>
        </div>

        <h3>Tabel Data Barang Inventaris</h3>
        <div class="table-actions">
          <button class="btn btn-primary" onclick="openModal('barang')"> + Input Data Barang Baru</button>
        </div>
        <table id="tabel-barang" class="data-table">
          <thead>
            <tr><th>No</th><th>Nama Barang</th><th>Merk/Type</th><th>Ruangan</th><th>Kondisi</th><th>Aksi</th></tr>
          </thead>
          <tbody id="barang-data-body"></tbody>
        </table>
      </section>
    </main>
  </div>

  <div id="modal-container" class="modal">
    <div class="modal-content">
      <span class="close-btn" onclick="closeModal()">&times;</span>
      <h2 id="modal-title">Form Input</h2>

      <div id="modal-barang" class="modal-form" style="display: none;">
		<div class="modal-content">
		<span class="close-btn" onclick="closeModal()">&times;</span>
		<h2 id="modal-title">Form Input</h2>

			<div id="modal-barang" class="modal-form" style="display: none;">
        </div>

			<div id="modal-ruangan" class="modal-form" style="display: none;">
        </div>

			<div id="modal-referensi" class="modal-form" style="display: none;">
        </div>

		</div>
        <form id="form-barang-modal" onsubmit="saveDataBarang(event)">
          <label>Nama Barang:</label>
          <input type="text" id="form-nama-barang" required>
          <label>Merk/Type:</label>
          <input type="text" id="form-merk-type">
          <label>Ruangan:</label>
          <input type="text" id="form-ruangan">
          <label>Kondisi:</label>
          <select id="form-kondisi" required>
            <option value="B">Baik</option>
            <option value="RR">Rusak Ringan</option>
            <option value="RB">Rusak Berat</option>
          </select>
          <button type="submit">Save Barang</button>
        </form>
      </div>
    </div>
  </div>

  <script src="script.js"></script>
</body>
</html>
